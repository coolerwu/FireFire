@tailwind base;
@tailwind components;
@tailwind utilities;

/* Notion 风格基础样式层 */
@layer base {
  /* 全局字体和基础样式 */
  html {
    @apply font-sans text-base antialiased;
  }

  body {
    @apply bg-notion-bg-primary text-notion-text-primary;
    @apply transition-colors duration-normal;
  }

  /* 暗色模式基础 */
  .dark body {
    @apply bg-notion-dark-bg-primary text-notion-dark-text-primary;
  }

  /* 选中文本样式 */
  ::selection {
    @apply bg-notion-accent-blue/20;
  }

  /* 滚动条样式 */
  ::-webkit-scrollbar {
    @apply w-2 h-2;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-notion-text-tertiary/30 rounded-full;
    @apply hover:bg-notion-text-tertiary/50;
  }

  .dark ::-webkit-scrollbar-thumb {
    @apply bg-notion-dark-text-tertiary/30;
    @apply hover:bg-notion-dark-text-tertiary/50;
  }

  /* 链接基础样式 */
  a {
    @apply text-notion-text-primary underline decoration-notion-text-tertiary/50;
    @apply hover:decoration-notion-text-primary;
    @apply transition-colors duration-fast;
  }

  .dark a {
    @apply text-notion-dark-text-primary decoration-notion-dark-text-tertiary/50;
    @apply hover:decoration-notion-dark-text-primary;
  }
}

/* Notion 风格组件层 */
@layer components {
  /* 按钮基础样式 */
  .btn {
    @apply inline-flex items-center justify-center;
    @apply px-3 py-1.5 rounded;
    @apply text-sm font-medium;
    @apply transition-all duration-fast;
    @apply cursor-pointer select-none;
  }

  .btn-primary {
    @apply btn;
    @apply bg-notion-accent-green text-white;
    @apply hover:opacity-90;
  }

  .btn-secondary {
    @apply btn;
    @apply bg-transparent text-notion-text-primary;
    @apply hover:bg-notion-bg-hover;
  }

  .dark .btn-secondary {
    @apply text-notion-dark-text-primary;
    @apply hover:bg-notion-dark-bg-hover;
  }

  .btn-ghost {
    @apply btn;
    @apply bg-transparent text-notion-text-secondary;
    @apply hover:bg-notion-bg-hover hover:text-notion-text-primary;
  }

  .dark .btn-ghost {
    @apply text-notion-dark-text-secondary;
    @apply hover:bg-notion-dark-bg-hover hover:text-notion-dark-text-primary;
  }

  /* 输入框样式 */
  .input {
    @apply w-full px-3 py-2 rounded;
    @apply bg-notion-bg-secondary text-notion-text-primary;
    @apply border border-notion-border;
    @apply placeholder:text-notion-text-placeholder;
    @apply focus:outline-none focus:border-notion-accent-blue focus:ring-1 focus:ring-notion-accent-blue/30;
    @apply transition-all duration-fast;
  }

  .dark .input {
    @apply bg-notion-dark-bg-secondary text-notion-dark-text-primary;
    @apply border-notion-dark-border;
    @apply placeholder:text-notion-dark-text-placeholder;
  }

  /* 卡片样式 */
  .card {
    @apply bg-notion-bg-primary rounded-lg;
    @apply border border-notion-border;
    @apply shadow-sm;
  }

  .dark .card {
    @apply bg-notion-dark-bg-secondary;
    @apply border-notion-dark-border;
  }

  /* 菜单样式 */
  .menu {
    @apply bg-notion-bg-primary rounded-md;
    @apply shadow-notion-menu;
    @apply py-1;
  }

  .dark .menu {
    @apply bg-notion-dark-bg-secondary;
    @apply shadow-notion-menu-dark;
  }

  .menu-item {
    @apply flex items-center gap-2;
    @apply px-3 py-1.5;
    @apply text-sm text-notion-text-primary;
    @apply hover:bg-notion-bg-hover;
    @apply cursor-pointer;
    @apply transition-colors duration-fast;
  }

  .dark .menu-item {
    @apply text-notion-dark-text-primary;
    @apply hover:bg-notion-dark-bg-hover;
  }

  .menu-item-active {
    @apply bg-notion-bg-selected;
  }

  .dark .menu-item-active {
    @apply bg-notion-dark-bg-selected;
  }

  /* 侧边栏样式 */
  .sidebar {
    @apply w-sidebar min-w-sidebar;
    @apply h-full;
    @apply bg-notion-bg-secondary;
    @apply border-r border-notion-border;
    @apply flex flex-col;
    @apply transition-all duration-slow;
  }

  .dark .sidebar {
    @apply bg-notion-dark-bg-secondary;
    @apply border-notion-dark-border;
  }

  .sidebar-collapsed {
    @apply w-sidebar-collapsed min-w-0;
  }

  /* 编辑器容器样式 */
  .editor-container {
    @apply flex-1 h-full overflow-auto;
    @apply bg-notion-bg-primary;
  }

  .dark .editor-container {
    @apply bg-notion-dark-bg-primary;
  }

  .editor-content {
    @apply max-w-editor mx-auto;
    @apply px-12 py-20;
  }

  /* 工具提示样式 */
  .tooltip {
    @apply px-2 py-1 rounded;
    @apply bg-notion-text-primary text-white;
    @apply text-xs;
    @apply shadow-md;
  }

  .dark .tooltip {
    @apply bg-notion-dark-text-primary text-notion-dark-bg-primary;
  }

  /* 分隔线样式 */
  .divider {
    @apply h-px bg-notion-border my-2;
  }

  .dark .divider {
    @apply bg-notion-dark-border;
  }

  /* 徽章样式 */
  .badge {
    @apply inline-flex items-center;
    @apply px-2 py-0.5 rounded-full;
    @apply text-xs font-medium;
    @apply bg-notion-bg-tertiary text-notion-text-secondary;
  }

  .dark .badge {
    @apply bg-notion-dark-bg-tertiary text-notion-dark-text-secondary;
  }
}

/* 工具类层 */
@layer utilities {
  /* 文本截断 */
  .truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Notion 风格悬停效果 */
  .hover-notion {
    @apply hover:bg-notion-bg-hover;
    @apply transition-colors duration-fast;
  }

  .dark .hover-notion {
    @apply hover:bg-notion-dark-bg-hover;
  }

  /* 无选择 */
  .no-select {
    @apply select-none;
  }

  /* 可拖拽光标 */
  .draggable {
    @apply cursor-grab active:cursor-grabbing;
  }
}
